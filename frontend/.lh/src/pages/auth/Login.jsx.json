{
    "sourceFile": "src/pages/auth/Login.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1701447013588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1701447013588,
            "name": "Commit-0",
            "content": "import \"../style/login.css\";\nimport Input from \"../../components/Input\";\nimport ValidationError from \"../../components/ValidationError\";\nimport loginLogo from \"../assets/login.svg\";\nimport { useEffect, useState } from \"react\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { getItem } from \"../../helpers/persistenceStorage\";\nimport { userLogin } from \"../../redux/slices/auth\";\n\nconst Login = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const { isLoading, user } = useSelector((state) => state.auth);\n    const loginMsg = useSelector((state) => state.message);\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const token = getItem('token');\n\n    useEffect(() => {\n        console.log('user', user);\n        if (!!user && !!token) {   //&& redirectPath()\n            console.log('test', loginMsg);\n            navigate(\"/dashboard\")\n        }\n\n    }, [user, token])\n\n    const loginHandler = async (e) => {\n        e.preventDefault();\n        dispatch(userLogin({ email, password }));\n\n    };\n\n\n    return (\n        <section>\n            <Container id=\"main-container\" className=\"d-grid h-100\">\n                <Row>\n                    <Col md={6}>\n                        <img src={loginLogo} alt=\"Image\" className=\"img-fluid primary\" />\n                    </Col>\n                    <Col md={6} className=\"contents\">\n                        <Row className=\"justify-content-center\">\n                            <Col md={8}>\n                                <div className=\"mb-4\">\n                                    <h3>Sign In</h3>\n                                    {console.log('loginMsg', loginMsg)}\n                                    {loginMsg && <p className=\"text-success\">{loginMsg.message}</p>}\n\n                                </div>\n\n                                <Form id=\"sign-in-form\" className=\"text-center p-3 w-100\">\n                                    <ValidationError />\n\n                                    <Form.Group className=\"mb-3\" controlId=\"formGroupEmail\">                                            <Input\n                                        type={\"email\"}\n                                        label={\"Email\"}\n                                        state={email}\n                                        setState={setEmail}\n                                    />\n                                    </Form.Group>\n                                    <Form.Group className=\"mb-3\" controlId=\"formGroupPassword\">\n                                        <Input\n                                            type={\"password\"}\n                                            label={\"Password\"}\n                                            state={password}\n                                            setState={setPassword}\n\n                                        />\n                                    </Form.Group>\n\n                                    <Button\n                                        variant=\"primary\"\n                                        size=\"lg\"\n                                        className=\"w-100 mt-2\"\n                                        type=\"submit\"\n                                        disabled={isLoading}\n                                        onClick={loginHandler}\n                                    >\n                                        {isLoading ? \"Loading...\" : \"Login\"}\n                                    </Button>\n                                    <div className=\"d-flex mb-5 align-items-center\">\n                                        <span className=\"ml-auto mt-2\">\n                                            <p className=\"forgot-pass text-dark\">Don't have any account ? <Link to={'/register'}>Signup</Link > </p>\n                                        </span>\n                                    </div>\n                                </Form>\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n            </Container>\n        </section>\n    );\n};\n\nexport default Login;\n"
        }
    ]
}